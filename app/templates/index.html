<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta http-equiv="pragma" content="no-cache" />
        <title>VisualTango Vision Update</title>
        <link rel="stylesheet" href="{{ url_for('static',filename='css/TemplateData/style.css')}}" />
    </head>
    <body>
        <h1>Visual Tango</h1>
        <div class="text">
            <p>
                Use the basic version of VisualTango to create choregraphy
            </p>
        </div>
        <div class="div_form" id="form1">
            <form action="{{ url_for('visualtango',id=id)}}" method="post" enctype="multipart/form-data" autocomplete="off">
                
                <input type="submit" value="Lancer" onclick="createLoader('form1')">
            </form>
         </div>


        <h1>Classify the movement</h1>
        <div class="text">
            <p>
                Upload your video here to be able to see which tango movement the person in your video is doing.
                You'll be able to add and delete movement to te choregraphy.
            </p>
        </div>
        <div class="div_form" id="form2">
            <form action="{{ url_for('classification',id=id)}}" method="post" enctype="multipart/form-data" autocomplete="off">
                <input type="file" name="input_file1" accept="video/">
                <input type="submit" value="Envoyer" onclick="createLoader('form2')">
            </form>
         </div>

        <h1>Modelise your dancing in Unity</h1>
        <div class="text">
            <p>
                Upload your video here to be able to see a model doing the choregraphy from the video
            </p>
        </div>
        <div class="div_form" id="form3">
            <form action="{{ url_for('modelisation',id=id)}}" method="post" enctype="multipart/form-data" autocomplete="off">
                <input type="file" name="input_file2" accept="video/">
                <input type="submit" value="Envoyer" onclick="createLoader('form3')">
            </form>
        </div>  
        <div> Please note that the calculation may take some time</div>
        
    </body>
    <footer>
        <script>
            function createLoader(input){
                form = document.getElementById(input);
                if (input=="form1"){
                    if (form.querySelector("spinner1") == null){
                        const div = document.createElement("div");
                        div.className = "spinner";
                        div.id="spinner1";
                        form.appendChild(div);
                    }
                } else if (input=="form2"){
                    if (form.querySelector("spinner2") == null){
                        const div = document.createElement("div");
                        div.className = "spinner";
                        div.id="spinner2"
                        form.appendChild(div);
                    }
                }else if (input=="form3"){
                    if (form.querySelector("spinner3") == null){
                        const div = document.createElement("div");
                        div.className = "spinner";
                        div.id="spinner3"
                        form.appendChild(div);
                    }
                }
            }

        </script>
        <script>
            // JavaScript code to handle navigation and page reload
            if (localStorage.getItem('reloadPage')) {
                localStorage.removeItem('reloadPage');
                location.reload(true);
            }
        </script>
    </footer>

</html>